<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>用锐蓝dual主板控制AGV小车</title>
    <meta name="description" content="">

    <link rel="shortcut icon" href="/favicon.ico?" type="image/x-icon">
    <link rel="icon" href="/favicon.ico?" type="image/x-icon">
    <link rel="stylesheet" href=" /css/fontawesome/css/font-awesome.min.css ">
    <link rel="stylesheet" href=" /css/main.css ">
    <link rel="canonical" href="http://localhost:4000/2017/10/30/rayland-dual_on_agv/">
    <link rel="alternate" type="application/rss+xml" title="锐蓝3D打印wiki" href="http://localhost:4000 /feed.xml ">


    <script>
    // 百度统计代码
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?4550978924d3d4a6fe21f516ac37f0b3";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
    </script>


</head>


  <!--<script src="../js/main.js"></script>-->
  <body>

    <header id="top">
    <div class="wrapper">
        <a href="/" class="brand">锐蓝3D打印wiki</a>
        <button id="headerMenu" class="menu"><i class="fa fa-bars"></i></button>
        <nav id="headerNav">
            <ul>
                <li>
                    
                    <a href="/">
                    
                        Home
                    </a>
                </li>

                
                    
                    <li>
                        
                        <a href="/category/">
                        
                            Categories
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/tag/">
                        
                            Tags
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/collection/">
                        
                            Collections
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/demo/">
                        
                            Demo
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/about/">
                        
                            About
                        </a>
                    </li>
                    
                
                    
                
                    
                
                    
                
                    
                
            </ul>
        </nav>
    </div>
</header>


        <div class="page clearfix" post>
    <div class="left">
        <h1>用锐蓝dual主板控制AGV小车</h1>
        <div class="label">

            <div class="label-card">
                2017-10-30
            </div>
            
            <div class="label-card" style="color: #f1e05a;">
                       /
            </div>
                    
            <div class="label-card">
                JiuYang Chen
                
            </div>

            <div class="label-card" style="color: #f1e05a;">
                       /
            </div>

            <div class="label-card">
                
            </div>


            <div class="label-card">
            
<span class="pageTag">
  
  
    
        <a href="/tag/#AGV" title="Tag: AGV" rel="tag">AGV</a>
    
  

</span>

            </div>

        </div>
        <hr>
        <article itemscope itemtype="http://schema.org/BlogPosting">
        <ul id="markdown-toc">
  <li><a href="#agv小车接线方法" id="markdown-toc-agv小车接线方法">AGV小车接线方法</a></li>
  <li><a href="#安卓系统下的agv-小车控制协议" id="markdown-toc-安卓系统下的agv-小车控制协议">安卓系统下的AGV 小车控制协议</a>    <ul>
      <li><a href="#安卓运行界面" id="markdown-toc-安卓运行界面">安卓运行界面</a></li>
    </ul>
  </li>
  <li><a href="#agv" id="markdown-toc-agv">AGV</a></li>
  <li><a href="#ros系统下的agv-小车控制协议" id="markdown-toc-ros系统下的agv-小车控制协议">ros系统下的AGV 小车控制协议</a></li>
</ul>

<p>本文档介绍了用rayland-dual主板控制小车的控制协议。协议共分两种，1，用内置的安卓系统。2，用外置的ROS系统。</p>

<p><img src="/images/1851AC83-793D-4179-870E-669D8F8F48C7.png" alt="1851AC83-793D-4179-870E-669D8F8F48C7" /></p>

<h2 id="agv小车接线方法">AGV小车接线方法</h2>

<p>上图所示AGV小车的外设默认配置</p>

<table>
  <thead>
    <tr>
      <th>设备</th>
      <th>个数</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>7寸高清触摸屏</td>
      <td>1</td>
    </tr>
    <tr>
      <td>超声测距</td>
      <td>8</td>
    </tr>
    <tr>
      <td>RFID</td>
      <td>1</td>
    </tr>
    <tr>
      <td>16通道寻磁</td>
      <td>1</td>
    </tr>
    <tr>
      <td>麦克风</td>
      <td>1（可选4通道）</td>
    </tr>
    <tr>
      <td>2w扬声器</td>
      <td>1</td>
    </tr>
    <tr>
      <td>UVC摄像头</td>
      <td>1（可选扫码摄像头）</td>
    </tr>
  </tbody>
</table>

<p>总体接线图</p>

<table>
  <thead>
    <tr>
      <th>板上电机端口</th>
      <th>AGV功能链接</th>
      <th>备注</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>X电机端口</td>
      <td>左轮驱动</td>
      <td>1EN(EN)，2FR(MS1)，3PG(MS2)，4BK(ST)</td>
    </tr>
    <tr>
      <td>Y电机端口</td>
      <td>右轮驱动</td>
      <td>1EN(EN)，2FR(MS1)，3PG(MS2)，4BK(ST)</td>
    </tr>
    <tr>
      <td>Z电机端口</td>
      <td>无</td>
      <td> </td>
    </tr>
    <tr>
      <td>E0电机端口</td>
      <td>左右轮SV</td>
      <td>1GND，2 SV_左，3 SV_右，4GND 直连板接E0DIR和E0EN</td>
    </tr>
    <tr>
      <td>E1电机端口</td>
      <td>寻磁</td>
      <td>1GND，2TX，3RX，4GND。(E1DIR和usart3_RX复用，E1STEP和usart3_tx复用)</td>
    </tr>
    <tr>
      <td>usart1</td>
      <td>rfid</td>
      <td>1GND，2TX，3RX，4GND</td>
    </tr>
    <tr>
      <td>usart2</td>
      <td>超声</td>
      <td>1GND，2TX，3RX，4GND</td>
    </tr>
    <tr>
      <td>usart3</td>
      <td>寻磁</td>
      <td>1GND，2TX，3RX，4GND</td>
    </tr>
    <tr>
      <td>usb口</td>
      <td>摄像头</td>
      <td>VLC免驱摄像头</td>
    </tr>
    <tr>
      <td>音频输入</td>
      <td>单mic</td>
      <td> </td>
    </tr>
    <tr>
      <td>音频输出</td>
      <td>运放模块</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h2 id="安卓系统下的agv-小车控制协议">安卓系统下的AGV 小车控制协议</h2>

<h3 id="安卓运行界面">安卓运行界面</h3>

<p>状态显示界面</p>

<p><img src="/images/F3CEE232-B2C5-4A18-B012-0EC6A13835F6.png" alt="F3CEE232-B2C5-4A18-B012-0EC6A13835F6" /></p>

<p>控制界面</p>

<p><img src="/images/8C0CE1AB-597B-4DAD-A555-B3A73E50AFF8.png" alt="8C0CE1AB-597B-4DAD-A555-B3A73E50AFF8" /></p>

<p>看听说界面</p>

<p><img src="/images/AAACD147-6D27-47FC-84DE-6B86AC0F1F5D.png" alt="AAACD147-6D27-47FC-84DE-6B86AC0F1F5D" /></p>

<h2 id="agv">AGV</h2>

<p><code class="highlighter-rouge">Android -&gt; Stm32</code></p>

<p>1.1 <strong>控制指令</strong> <code class="highlighter-rouge">cmd_type,pkg_length,seq,v_x,v_y,s_x,s_y</code></p>

<table>
  <thead>
    <tr>
      <th>Param</th>
      <th style="text-align: center">Describe</th>
      <th style="text-align: center">Type</th>
      <th style="text-align: center">Range</th>
      <th style="text-align: right">Unit</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>cmd_type</td>
      <td style="text-align: center">指令类型</td>
      <td style="text-align: center">uint8</td>
      <td style="text-align: center">0</td>
      <td style="text-align: right"> </td>
    </tr>
    <tr>
      <td>pkg_length</td>
      <td style="text-align: center">包长度</td>
      <td style="text-align: center">uint8</td>
      <td style="text-align: center"><code class="highlighter-rouge">12bytes</code></td>
      <td style="text-align: right"> </td>
    </tr>
    <tr>
      <td>seq</td>
      <td style="text-align: center">指令序号</td>
      <td style="text-align: center">uint8</td>
      <td style="text-align: center"> </td>
      <td style="text-align: right"> </td>
    </tr>
    <tr>
      <td>is_reset</td>
      <td style="text-align: center">是否抢占</td>
      <td style="text-align: center">uint8</td>
      <td style="text-align: center"> </td>
      <td style="text-align: right"><code class="highlighter-rouge">0:false 1:true</code></td>
    </tr>
    <tr>
      <td>v_x</td>
      <td style="text-align: center">x轮速度</td>
      <td style="text-align: center">int16</td>
      <td style="text-align: center">-500 ~ 500</td>
      <td style="text-align: right"><code class="highlighter-rouge">(1/10)r/min</code></td>
    </tr>
    <tr>
      <td>v_y</td>
      <td style="text-align: center">y轮速度</td>
      <td style="text-align: center">int16</td>
      <td style="text-align: center">-500 ~ 500</td>
      <td style="text-align: right"><code class="highlighter-rouge">(1/10)r/min</code></td>
    </tr>
    <tr>
      <td>s_x</td>
      <td style="text-align: center">x轮里程</td>
      <td style="text-align: center">uint16</td>
      <td style="text-align: center"> </td>
      <td style="text-align: right"><code class="highlighter-rouge">1 = (1/10)r</code></td>
    </tr>
    <tr>
      <td>s_y</td>
      <td style="text-align: center">y轮里程</td>
      <td style="text-align: center">uint16</td>
      <td style="text-align: center"> </td>
      <td style="text-align: right"><code class="highlighter-rouge">1 = (1/10)r</code></td>
    </tr>
  </tbody>
</table>

<p>2.2 <strong>定义当前坐标</strong> <code class="highlighter-rouge">cmd_type,pkg_length,seq,axis_x,axis_y,ori</code></p>

<table>
  <thead>
    <tr>
      <th>Param</th>
      <th style="text-align: center">Describe</th>
      <th style="text-align: center">Type</th>
      <th style="text-align: right">Range</th>
      <th style="text-align: right">Unit</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>cmd_type</td>
      <td style="text-align: center">指令类型</td>
      <td style="text-align: center">uint8</td>
      <td style="text-align: right">1</td>
      <td style="text-align: right"> </td>
    </tr>
    <tr>
      <td>pkg_length</td>
      <td style="text-align: center">包长度</td>
      <td style="text-align: center">uint8</td>
      <td style="text-align: right"><code class="highlighter-rouge">9bytes</code></td>
      <td style="text-align: right"> </td>
    </tr>
    <tr>
      <td>seq</td>
      <td style="text-align: center">指令序号</td>
      <td style="text-align: center">uint8</td>
      <td style="text-align: right"> </td>
      <td style="text-align: right"> </td>
    </tr>
    <tr>
      <td>axis_x</td>
      <td style="text-align: center">x轴坐标</td>
      <td style="text-align: center">int16</td>
      <td style="text-align: right"> </td>
      <td style="text-align: right"><code class="highlighter-rouge">1 = (1/10)r</code></td>
    </tr>
    <tr>
      <td>axis_y</td>
      <td style="text-align: center">y轴坐标</td>
      <td style="text-align: center">int16</td>
      <td style="text-align: right"> </td>
      <td style="text-align: right"><code class="highlighter-rouge">1 = (1/10)r</code></td>
    </tr>
    <tr>
      <td>ori</td>
      <td style="text-align: center">朝向</td>
      <td style="text-align: center">int16</td>
      <td style="text-align: right"> </td>
      <td style="text-align: right"><code class="highlighter-rouge">1 = 1/10°</code> <code class="highlighter-rouge">-1 = -1/10°</code> (逆时针为正)</td>
    </tr>
  </tbody>
</table>

<p>3.3 <strong>切换控制模式</strong> <code class="highlighter-rouge">cmd_type,pkg_length,seq,controll_type</code></p>

<table>
  <thead>
    <tr>
      <th>Param</th>
      <th style="text-align: center">Describe</th>
      <th style="text-align: center">Type</th>
      <th style="text-align: right">Range</th>
      <th style="text-align: right">Unit</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>cmd_type</td>
      <td style="text-align: center">指令类型</td>
      <td style="text-align: center">uint8</td>
      <td style="text-align: right">2</td>
      <td style="text-align: right"> </td>
    </tr>
    <tr>
      <td>pkg_length</td>
      <td style="text-align: center">包长度</td>
      <td style="text-align: center">uint8</td>
      <td style="text-align: right"><code class="highlighter-rouge">4bytes</code></td>
      <td style="text-align: right"> </td>
    </tr>
    <tr>
      <td>seq</td>
      <td style="text-align: center">指令序号</td>
      <td style="text-align: center">uint8</td>
      <td style="text-align: right"> </td>
      <td style="text-align: right"> </td>
    </tr>
    <tr>
      <td>controll_type</td>
      <td style="text-align: center">控制模式</td>
      <td style="text-align: center">uint8</td>
      <td style="text-align: right"><code class="highlighter-rouge">0：板控</code> <code class="highlighter-rouge">1：遥控</code> <code class="highlighter-rouge">2：ROS控制</code></td>
      <td style="text-align: right"> </td>
    </tr>
  </tbody>
</table>

<p><code class="highlighter-rouge">Stm32 -&gt; Android</code></p>

<p>1.1 <strong>状态采集</strong></p>

<p><code class="highlighter-rouge">cmd_type,pkg_length,seq,v_x,v_y,axis_x,axis_y,ori,rfid,magn,infra,ut_f,ut_b,moto_state,mile</code></p>

<table>
  <thead>
    <tr>
      <th>Param</th>
      <th style="text-align: center">Describe</th>
      <th style="text-align: center">Type</th>
      <th style="text-align: right">Range</th>
      <th style="text-align: right">Unit</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>cmd_type</td>
      <td style="text-align: center">指令类型</td>
      <td style="text-align: center">uint8</td>
      <td style="text-align: right">0</td>
      <td style="text-align: right"> </td>
    </tr>
    <tr>
      <td>pkg_length</td>
      <td style="text-align: center">包长度</td>
      <td style="text-align: center">uint8</td>
      <td style="text-align: right"><code class="highlighter-rouge">39bytes</code></td>
      <td style="text-align: right"> </td>
    </tr>
    <tr>
      <td>seq</td>
      <td style="text-align: center">指令序号</td>
      <td style="text-align: center">uint8</td>
      <td style="text-align: right"> </td>
      <td style="text-align: right"> </td>
    </tr>
    <tr>
      <td>controlType</td>
      <td style="text-align: center">控制类型</td>
      <td style="text-align: center">uint8</td>
      <td style="text-align: right"><code class="highlighter-rouge">0：板控</code> <code class="highlighter-rouge">1：遥控</code> <code class="highlighter-rouge">2：ROS控制</code></td>
      <td style="text-align: right"> </td>
    </tr>
    <tr>
      <td>v_x</td>
      <td style="text-align: center">x轴速度</td>
      <td style="text-align: center">int16</td>
      <td style="text-align: right">-500 ~ 500</td>
      <td style="text-align: right"><code class="highlighter-rouge">(1/10)r/min</code></td>
    </tr>
    <tr>
      <td>v_y</td>
      <td style="text-align: center">y轴速度</td>
      <td style="text-align: center">int16</td>
      <td style="text-align: right">-500 ~ 500</td>
      <td style="text-align: right"><code class="highlighter-rouge">(1/10)r/min</code></td>
    </tr>
    <tr>
      <td>axis_x</td>
      <td style="text-align: center">x轴坐标</td>
      <td style="text-align: center">int16</td>
      <td style="text-align: right"> </td>
      <td style="text-align: right"><code class="highlighter-rouge">1 = (1/10)r</code></td>
    </tr>
    <tr>
      <td>axis_y</td>
      <td style="text-align: center">y轴坐标</td>
      <td style="text-align: center">int16</td>
      <td style="text-align: right"> </td>
      <td style="text-align: right"><code class="highlighter-rouge">1 = (1/10)r</code></td>
    </tr>
    <tr>
      <td>ori</td>
      <td style="text-align: center">朝向</td>
      <td style="text-align: center">int16</td>
      <td style="text-align: right"> </td>
      <td style="text-align: right"><code class="highlighter-rouge">1 = 1/10°</code> <code class="highlighter-rouge">-1 = -1/10°</code> (逆时针为正)</td>
    </tr>
    <tr>
      <td>rfid</td>
      <td style="text-align: center">rfid序列号</td>
      <td style="text-align: center">uint32</td>
      <td style="text-align: right"> </td>
      <td style="text-align: right"> </td>
    </tr>
    <tr>
      <td>magn</td>
      <td style="text-align: center">磁条序列号</td>
      <td style="text-align: center">uint16</td>
      <td style="text-align: right"><code class="highlighter-rouge">0:missing 1:hit</code></td>
      <td style="text-align: right"> </td>
    </tr>
    <tr>
      <td>infra</td>
      <td style="text-align: center">红外</td>
      <td style="text-align: center">uint8</td>
      <td style="text-align: right"><code class="highlighter-rouge">0:false 1:true</code></td>
      <td style="text-align: right"> </td>
    </tr>
    <tr>
      <td>ut_f</td>
      <td style="text-align: center">前侧超声</td>
      <td style="text-align: center">uint16 * <code class="highlighter-rouge">4</code></td>
      <td style="text-align: right"> </td>
      <td style="text-align: right"><code class="highlighter-rouge">mm</code></td>
    </tr>
    <tr>
      <td>ut_b</td>
      <td style="text-align: center">后侧超声</td>
      <td style="text-align: center">uint16 * <code class="highlighter-rouge">4</code></td>
      <td style="text-align: right"> </td>
      <td style="text-align: right"><code class="highlighter-rouge">mm</code></td>
    </tr>
    <tr>
      <td>moto_state</td>
      <td style="text-align: center">电机状态</td>
      <td style="text-align: center">uint8</td>
      <td style="text-align: right"><code class="highlighter-rouge">0:stop 1:running</code> 左侧第0位 右侧第一位</td>
      <td style="text-align: right"> </td>
    </tr>
    <tr>
      <td>mile</td>
      <td style="text-align: center">总里程</td>
      <td style="text-align: center">uint16</td>
      <td style="text-align: right"> </td>
      <td style="text-align: right"><code class="highlighter-rouge">mm</code></td>
    </tr>
  </tbody>
</table>

<h2 id="ros系统下的agv-小车控制协议">ros系统下的AGV 小车控制协议</h2>

<p>板载的A33处理器并不能运行ROS操作系统，需要通过外接mini PC来完成。MiniPC直接和板子上的STM32进行通讯，在ros模式下，我们需要禁用板载的寻磁传感器功能，将这个口用来做miniPC和STM32的通讯。</p>

<p>MiniPC -&gt; Stm32</p>

<p>1.1 <strong>控制指令</strong> <code class="highlighter-rouge">cmd_type,pkg_length,seq,v_x,v_y,s_x,s_y</code></p>

<table>
  <thead>
    <tr>
      <th>Param</th>
      <th style="text-align: center">Describe</th>
      <th style="text-align: center">Type</th>
      <th style="text-align: center">Range</th>
      <th style="text-align: right">Unit</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>prefix</td>
      <td style="text-align: center">包头</td>
      <td style="text-align: center">uint8</td>
      <td style="text-align: center">0x68</td>
      <td style="text-align: right"> </td>
    </tr>
    <tr>
      <td>cmd_type</td>
      <td style="text-align: center">指令类型</td>
      <td style="text-align: center">uint8</td>
      <td style="text-align: center">0</td>
      <td style="text-align: right"> </td>
    </tr>
    <tr>
      <td>pkg_length</td>
      <td style="text-align: center">包长度</td>
      <td style="text-align: center">uint8</td>
      <td style="text-align: center"><code class="highlighter-rouge">12bytes</code></td>
      <td style="text-align: right"> </td>
    </tr>
    <tr>
      <td>seq</td>
      <td style="text-align: center">指令序号</td>
      <td style="text-align: center">uint8</td>
      <td style="text-align: center"> </td>
      <td style="text-align: right"> </td>
    </tr>
    <tr>
      <td>is_reset</td>
      <td style="text-align: center">是否抢占</td>
      <td style="text-align: center">uint8</td>
      <td style="text-align: center"> </td>
      <td style="text-align: right"><code class="highlighter-rouge">0:false 1:true</code></td>
    </tr>
    <tr>
      <td>v_x</td>
      <td style="text-align: center">x轮速度</td>
      <td style="text-align: center">int16</td>
      <td style="text-align: center">-500 ~ 500</td>
      <td style="text-align: right"><code class="highlighter-rouge">(1/10)r/min</code></td>
    </tr>
    <tr>
      <td>v_y</td>
      <td style="text-align: center">y轮速度</td>
      <td style="text-align: center">int16</td>
      <td style="text-align: center">-500 ~ 500</td>
      <td style="text-align: right"><code class="highlighter-rouge">(1/10)r/min</code></td>
    </tr>
    <tr>
      <td>s_x</td>
      <td style="text-align: center">x轮里程</td>
      <td style="text-align: center">uint16</td>
      <td style="text-align: center"> </td>
      <td style="text-align: right"><code class="highlighter-rouge">1 = (1/10)r</code></td>
    </tr>
    <tr>
      <td>s_y</td>
      <td style="text-align: center">y轮里程</td>
      <td style="text-align: center">uint16</td>
      <td style="text-align: center"> </td>
      <td style="text-align: right"><code class="highlighter-rouge">1 = (1/10)r</code></td>
    </tr>
    <tr>
      <td>checksum</td>
      <td style="text-align: center">校验和（不含包头包尾）</td>
      <td style="text-align: center">uint8_t</td>
      <td style="text-align: center">0~255</td>
      <td style="text-align: right"> </td>
    </tr>
    <tr>
      <td>subfix</td>
      <td style="text-align: center">包尾巴</td>
      <td style="text-align: center">uint8_t</td>
      <td style="text-align: center">0xff</td>
      <td style="text-align: right"> </td>
    </tr>
  </tbody>
</table>

<p>Stm32-&gt; MiniPC</p>

<table>
  <thead>
    <tr>
      <th>Param</th>
      <th style="text-align: center">Describe</th>
      <th style="text-align: center">Type</th>
      <th style="text-align: right">Range</th>
      <th style="text-align: right">Unit</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>prefix</td>
      <td style="text-align: center">包头</td>
      <td style="text-align: center">uint8</td>
      <td style="text-align: right">0x68</td>
      <td style="text-align: right"> </td>
    </tr>
    <tr>
      <td>cmd_type</td>
      <td style="text-align: center">指令类型</td>
      <td style="text-align: center">uint8</td>
      <td style="text-align: right">0</td>
      <td style="text-align: right"> </td>
    </tr>
    <tr>
      <td>pkg_length</td>
      <td style="text-align: center">包长度</td>
      <td style="text-align: center">uint8</td>
      <td style="text-align: right"><code class="highlighter-rouge">39bytes</code></td>
      <td style="text-align: right"> </td>
    </tr>
    <tr>
      <td>seq</td>
      <td style="text-align: center">指令序号</td>
      <td style="text-align: center">uint8</td>
      <td style="text-align: right"> </td>
      <td style="text-align: right"> </td>
    </tr>
    <tr>
      <td>v_x</td>
      <td style="text-align: center">x轴速度</td>
      <td style="text-align: center">int16</td>
      <td style="text-align: right">-500 ~ 500</td>
      <td style="text-align: right"><code class="highlighter-rouge">(1/10)r/min</code></td>
    </tr>
    <tr>
      <td>v_y</td>
      <td style="text-align: center">y轴速度</td>
      <td style="text-align: center">int16</td>
      <td style="text-align: right">-500 ~ 500</td>
      <td style="text-align: right"><code class="highlighter-rouge">(1/10)r/min</code></td>
    </tr>
    <tr>
      <td>axis_x</td>
      <td style="text-align: center">x轴坐标</td>
      <td style="text-align: center">int16</td>
      <td style="text-align: right"> </td>
      <td style="text-align: right"><code class="highlighter-rouge">1 = (1/10)r</code></td>
    </tr>
    <tr>
      <td>axis_y</td>
      <td style="text-align: center">y轴坐标</td>
      <td style="text-align: center">int16</td>
      <td style="text-align: right"> </td>
      <td style="text-align: right"><code class="highlighter-rouge">1 = (1/10)r</code></td>
    </tr>
    <tr>
      <td>ori</td>
      <td style="text-align: center">朝向</td>
      <td style="text-align: center">int16</td>
      <td style="text-align: right"> </td>
      <td style="text-align: right"><code class="highlighter-rouge">1 = 1/10°</code> <code class="highlighter-rouge">-1 = -1/10°</code> (逆时针为正)</td>
    </tr>
    <tr>
      <td>rfid</td>
      <td style="text-align: center">rfid序列号</td>
      <td style="text-align: center">uint32</td>
      <td style="text-align: right"> </td>
      <td style="text-align: right"> </td>
    </tr>
    <tr>
      <td>magn</td>
      <td style="text-align: center">磁条序列号</td>
      <td style="text-align: center">uint16</td>
      <td style="text-align: right"><code class="highlighter-rouge">0:missing 1:hit</code></td>
      <td style="text-align: right"> </td>
    </tr>
    <tr>
      <td>infra</td>
      <td style="text-align: center">红外</td>
      <td style="text-align: center">uint8</td>
      <td style="text-align: right"><code class="highlighter-rouge">0:false 1:true</code></td>
      <td style="text-align: right"> </td>
    </tr>
    <tr>
      <td>ut_f</td>
      <td style="text-align: center">前侧超声</td>
      <td style="text-align: center">uint16 * <code class="highlighter-rouge">4</code></td>
      <td style="text-align: right"> </td>
      <td style="text-align: right"><code class="highlighter-rouge">mm</code></td>
    </tr>
    <tr>
      <td>ut_b</td>
      <td style="text-align: center">后侧超声</td>
      <td style="text-align: center">uint16 * <code class="highlighter-rouge">4</code></td>
      <td style="text-align: right"> </td>
      <td style="text-align: right"><code class="highlighter-rouge">mm</code></td>
    </tr>
    <tr>
      <td>moto_state</td>
      <td style="text-align: center">电机状态</td>
      <td style="text-align: center">uint8</td>
      <td style="text-align: right"><code class="highlighter-rouge">0:stop 1:running</code> 左侧第0位 右侧第一位</td>
      <td style="text-align: right"> </td>
    </tr>
    <tr>
      <td>mile</td>
      <td style="text-align: center">总里程</td>
      <td style="text-align: center">uint16</td>
      <td style="text-align: right"> </td>
      <td style="text-align: right"><code class="highlighter-rouge">mm</code></td>
    </tr>
    <tr>
      <td>checksum</td>
      <td style="text-align: center">校验和（不含包头包尾）</td>
      <td style="text-align: center">uint8_t</td>
      <td style="text-align: right">0~255</td>
      <td style="text-align: right"> </td>
    </tr>
    <tr>
      <td>subfix</td>
      <td style="text-align: center">包尾巴</td>
      <td style="text-align: center">uint8_t</td>
      <td style="text-align: right">0xff</td>
      <td style="text-align: right"> </td>
    </tr>
  </tbody>
</table>


        </article>
        <hr>

        
        
            
            
                
                    
                
            
        
            
            
                
                    
                
            
        
            
            
                
                    
                
            
        
            
            
                
                    
                
            
        
            
            
                
                    
                
            
                
                    
                
            
        
            
            
                
                    
                
            
                
                    
                
            
        
            
            
                
                    
                        
                        <h2 id="similar_posts">Similar Posts</h2>
                        <ul>
                        
                        <li class="relatedPost">
                            <a href="http://localhost:4000/2018/01/05/rayland-dual_on_Mecanum/">用rayland-dual主板控制麦克纳姆车 控制协议
                            
                            </a>
                        </li>
                        
                        
                    
                
            
        
            
            
                
                    
                
            
                
                    
                
            
        
            
            
                
                    
                
            
                
                    
                
            
        
            
            
        
        
            </ul>
        

        <div class="post-recent">
    <div class="pre">
        
        <p><strong>上一篇</strong> <a href="/2017/10/29/on_board_driver/">4988 vs DRV8825</a></p>
        
    </div>
    <div class="nex">

        
        <p><strong>下一篇</strong> <a href="/2018/01/05/rayland-dual_on_Mecanum/">用rayland-dual主板控制麦克纳姆车 控制协议</a></p>
        
    </div>
</div>


        <h2 id="comments">Comments</h2>
         <script>
	var duoshuoQuery = {
		short_name: "leisong"
	};
	console.log(duoshuoQuery);
</script>


<!-- 多说评论框 start -->

<div class="ds-thread" data-thread-key="http://localhost:4000/2017/10/30/rayland-dual_on_agv/" data-title="用锐蓝dual主板控制AGV小车" data-url="http://localhost:4000/2017/10/30/rayland-dual_on_agv/"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
	var duoshuoQuery = {
		short_name: "leisong"
	};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';
		ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
</script>
<!-- 多说公共JS代码 end -->
 


    </div>
    <button class="anchor"><i class="fa fa-anchor"></i></button>
    <div class="right">
        <div class="wrap">
            <div class="side content">
                <div>
                    Content
                </div>
                <ul id="content-side" class="content-ul">
                    <li><a href="#similar_posts">Similar Posts</a></li>
                    <li><a href="#comments">Comments</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>
<script>
/**
 * target _blank
 */
(function() {
    var aTags = document.querySelectorAll('article a:not([id])')
    for (var i = 0; i < aTags.length; i++) {
        aTags[i].setAttribute('target', '_blank')
    }
}());
</script>
<script src="/js/pageContent.js " charset="utf-8"></script>


    <footer class="site-footer">


    <div class="wrapper">
        <p class="power">
        	<i class="fa fa-github" aria-hidden="true"></i>
            <span>
                Site powered by <a href="https://jekyllrb.com/">Jekyll</a> & <a href="https://pages.github.com/">Github Pages</a>.
            </span>
        </p>
    </div>
</footer>
<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

    <div class="back-to-top">
	<a href="#top" class="scroll">
		<i class="fa fa-arrow-up" aria-hidden="true"></i>
	</a>
</div>
    <script src=" /js/main.js " charset="utf-8"></script>
    <script src=" /js/scroll.min.js " charset="utf-8"></script>
    <script src=" /js/cjy_info.js " charset="utf-8"></script>
  </body>

</html>
