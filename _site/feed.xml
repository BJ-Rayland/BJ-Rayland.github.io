<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>锐蓝3D打印wiki</title>
    <description></description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Mon, 05 Mar 2018 18:07:53 +0800</pubDate>
    <lastBuildDate>Mon, 05 Mar 2018 18:07:53 +0800</lastBuildDate>
    <generator>Jekyll v3.3.1</generator>
    
      <item>
        <title>H3镜像烧录</title>
        <description>
&lt;p&gt;本文介绍&lt;code class=&quot;highlighter-rouge&quot;&gt;H3&lt;/code&gt;镜像烧录的全过程。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.&lt;/strong&gt;启动&lt;code class=&quot;highlighter-rouge&quot;&gt;WIN32 Disk Imagr&lt;/code&gt;，将需要烧录的TF接到所用电脑。选择要烧写的镜像，点击&lt;code class=&quot;highlighter-rouge&quot;&gt;Write&lt;/code&gt;&lt;/p&gt;

&lt;div align=&quot;center&quot;&gt;
&lt;img src=&quot;/images/h3-1.png&quot; /&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;2.&lt;/strong&gt;等待烧写完成后，将TF接到H3板上，并用安卓数据线接到电脑上。&lt;/p&gt;

&lt;div align=&quot;center&quot;&gt;
&lt;img src=&quot;/images/h3-2.png&quot; /&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;3.&lt;/strong&gt;打开网络设配器，打开H3的网络属性配置。&lt;/p&gt;

&lt;div align=&quot;center&quot;&gt;
&lt;img src=&quot;/images/h3-3.png&quot; /&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;4.&lt;/strong&gt;&lt;/p&gt;

&lt;div align=&quot;center&quot;&gt;
&lt;img src=&quot;/images/h3-4.png&quot; /&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;5.&lt;/strong&gt;完成网络配置后，打开PuTTY。&lt;/p&gt;

&lt;div align=&quot;center&quot;&gt;
&lt;img src=&quot;/images/h3-5.png&quot; /&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;6.&lt;/strong&gt;打开CMD，看网络能否PING通。&lt;/p&gt;

&lt;div align=&quot;center&quot;&gt;
&lt;img src=&quot;/images/h3-6.png&quot; /&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;7.&lt;/strong&gt;输入指令：ping 192.168.199.3&lt;/p&gt;

&lt;div align=&quot;center&quot;&gt;
&lt;img src=&quot;/images/h3-7.png&quot; /&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;8.&lt;/strong&gt;打开Putty，输入初始账号：root     密码：1234&lt;/p&gt;

&lt;div align=&quot;center&quot;&gt;
&lt;img src=&quot;/images/h3-8.png&quot; /&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;9.&lt;/strong&gt;输入初始密码：1234    新密码：yxrl2015  确认新密码：yxrl2015&lt;/p&gt;

&lt;div align=&quot;center&quot;&gt;
&lt;img src=&quot;/images/h3-9.png&quot; /&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;10.&lt;/strong&gt;创建用户账户：账号：fa  密码：fa&lt;/p&gt;

&lt;div align=&quot;center&quot;&gt;
&lt;img src=&quot;/images/h3-10.png&quot; /&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;11.&lt;/strong&gt;弹出下述界面，输入 y&lt;/p&gt;

&lt;div align=&quot;center&quot;&gt;
&lt;img src=&quot;/images/h3-11.png&quot; /&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;12.&lt;/strong&gt;弹出一下界面，为正常工作状态&lt;/p&gt;

&lt;div align=&quot;center&quot;&gt;
&lt;img src=&quot;/images/h3-12.png&quot; /&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;13.&lt;/strong&gt;输入指令：sudo ifconfig  查看IP地址是否正确&lt;/p&gt;

&lt;div align=&quot;center&quot;&gt;
&lt;img src=&quot;/images/h3-13.png&quot; /&gt;&lt;/div&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;14.&lt;/strong&gt;输入指令： ps –aux&lt;/td&gt;
      &lt;td&gt;grep c.py 显示如下图&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;div align=&quot;center&quot;&gt;
&lt;img src=&quot;/images/h3-14.png&quot; /&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;15.&lt;/strong&gt;输入指令：xrandr –display :0.0  显示当前分辨率&lt;/p&gt;

&lt;div align=&quot;center&quot;&gt;
&lt;img src=&quot;/images/h3-15.png&quot; /&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;16.&lt;/strong&gt;打开winscp，会话协议选为SCP,输入主机名：192.168.199.3&lt;/p&gt;

&lt;div align=&quot;center&quot;&gt;
&lt;img src=&quot;/images/h3-16.png&quot; /&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;17.&lt;/strong&gt;输入用户名：root&lt;/p&gt;

&lt;div align=&quot;center&quot;&gt;
&lt;img src=&quot;/images/h3-17.png&quot; /&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;18.&lt;/strong&gt;输入密码：yxrl2015&lt;/p&gt;

&lt;div align=&quot;center&quot;&gt;
&lt;img src=&quot;/images/h3-18.png&quot; /&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;19.&lt;/strong&gt;进入此界面，打开：usr/bin/c.py ，并且进行替换&lt;/p&gt;

&lt;div align=&quot;center&quot;&gt;
&lt;img src=&quot;/images/h3-19.png&quot; /&gt;&lt;/div&gt;

&lt;div align=&quot;center&quot;&gt;
&lt;img src=&quot;/images/h3-20.png&quot; /&gt;&lt;/div&gt;

&lt;div align=&quot;center&quot;&gt;
&lt;img src=&quot;/images/h3-21.png&quot; /&gt;&lt;/div&gt;

</description>
        <pubDate>Mon, 05 Mar 2018 15:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/03/05/h3-img-burn/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/03/05/h3-img-burn/</guid>
        
        <category>FDM</category>
        
        <category>MeiXing</category>
        
        
        <category>FDM</category>
        
      </item>
    
      <item>
        <title>DLP H3 与 A33通讯协议</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#h3-与-a33通讯协议&quot; id=&quot;markdown-toc-h3-与-a33通讯协议&quot;&gt;H3 与 A33通讯协议&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#从a33到h3&quot; id=&quot;markdown-toc-从a33到h3&quot;&gt;从A33到H3&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#从h3到a33&quot; id=&quot;markdown-toc-从h3到a33&quot;&gt;从H3到A33&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;DLP H3&lt;/code&gt; 与 &lt;code class=&quot;highlighter-rouge&quot;&gt;A33&lt;/code&gt;通讯协议&lt;/p&gt;

&lt;h1 id=&quot;h3-与-a33通讯协议&quot;&gt;H3 与 A33通讯协议&lt;/h1&gt;

&lt;h2 id=&quot;从a33到h3&quot;&gt;从A33到H3&lt;/h2&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;包头&lt;/th&gt;
      &lt;th&gt;包长&lt;/th&gt;
      &lt;th&gt;类型&lt;/th&gt;
      &lt;th&gt;数据内容&lt;/th&gt;
      &lt;th&gt;备注&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;0x3A&lt;/td&gt;
      &lt;td&gt;6&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;NULL&lt;/td&gt;
      &lt;td&gt;查询当前屏幕分辨率&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;0x3A&lt;/td&gt;
      &lt;td&gt;6+N&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;字符串&lt;/td&gt;
      &lt;td&gt;告知图片分辨率&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;0x3A&lt;/td&gt;
      &lt;td&gt;6+N&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;字符串&lt;/td&gt;
      &lt;td&gt;设置屏幕分辨率&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;0x3A&lt;/td&gt;
      &lt;td&gt;6+N&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;图片二进制&lt;/td&gt;
      &lt;td&gt;发送图片&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;0x3A&lt;/td&gt;
      &lt;td&gt;6&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;NULL&lt;/td&gt;
      &lt;td&gt;显示图片&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;0x3A&lt;/td&gt;
      &lt;td&gt;6&lt;/td&gt;
      &lt;td&gt;5&lt;/td&gt;
      &lt;td&gt;NULL&lt;/td&gt;
      &lt;td&gt;清空屏幕&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;0x3A&lt;/td&gt;
      &lt;td&gt;6+N&lt;/td&gt;
      &lt;td&gt;6&lt;/td&gt;
      &lt;td&gt;STL二进制&lt;/td&gt;
      &lt;td&gt;发送待切片模型&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;0x3A&lt;/td&gt;
      &lt;td&gt;6+N&lt;/td&gt;
      &lt;td&gt;7&lt;/td&gt;
      &lt;td&gt;字符串&lt;/td&gt;
      &lt;td&gt;设置切片层高&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;0x3A&lt;/td&gt;
      &lt;td&gt;6&lt;/td&gt;
      &lt;td&gt;8&lt;/td&gt;
      &lt;td&gt;NULL&lt;/td&gt;
      &lt;td&gt;查询分辨率列表&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;从h3到a33&quot;&gt;从H3到A33&lt;/h2&gt;

&lt;p&gt;H3对类型0和类型8的包会做出反馈，反馈内容为字符串&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;查询包类型&lt;/th&gt;
      &lt;th&gt;反馈内容&lt;/th&gt;
      &lt;th&gt;典型值&lt;/th&gt;
      &lt;th&gt;备注&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;resolution_x*resolution_yP刷新率\nOK\n&lt;/td&gt;
      &lt;td&gt;1920*1080p60\nOK\n&lt;/td&gt;
      &lt;td&gt;当前分辨率&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;8&lt;/td&gt;
      &lt;td&gt;分辨率列表\nOK\n&lt;/td&gt;
      &lt;td&gt;480i use “-m 480i” or “-m 0”\nOK\n&lt;/td&gt;
      &lt;td&gt;所有可选分辨率&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

</description>
        <pubDate>Mon, 05 Mar 2018 07:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/03/05/DLP-dispaly-H3-A33-Protocol-%E5%89%AF%E6%9C%AC/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/03/05/DLP-dispaly-H3-A33-Protocol-%E5%89%AF%E6%9C%AC/</guid>
        
        <category>FDM</category>
        
        <category>SongLei</category>
        
        
        <category>FDM</category>
        
      </item>
    
      <item>
        <title>西安杨总AGV调试手册</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#注意&quot; id=&quot;markdown-toc-注意&quot;&gt;注意&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#dual板图片&quot; id=&quot;markdown-toc-dual板图片&quot;&gt;dual板图片&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#接线方法&quot; id=&quot;markdown-toc-接线方法&quot;&gt;接线方法&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#原始总体接线图&quot; id=&quot;markdown-toc-原始总体接线图&quot;&gt;原始总体接线图&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#杨总版本接线图&quot; id=&quot;markdown-toc-杨总版本接线图&quot;&gt;杨总版本接线图&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#命令解析程序&quot; id=&quot;markdown-toc-命令解析程序&quot;&gt;命令解析程序&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#串口通信参数&quot; id=&quot;markdown-toc-串口通信参数&quot;&gt;串口通信参数&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#控制指令格式&quot; id=&quot;markdown-toc-控制指令格式&quot;&gt;控制指令格式&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#命令例子&quot; id=&quot;markdown-toc-命令例子&quot;&gt;命令例子&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;与普通的小车不同，杨总的小车主要是使用了&lt;code class=&quot;highlighter-rouge&quot;&gt;usart1&lt;/code&gt;和&lt;code class=&quot;highlighter-rouge&quot;&gt;usart2&lt;/code&gt;口作为调试口，调试命令从&lt;code class=&quot;highlighter-rouge&quot;&gt;usart1&lt;/code&gt;口输入，从&lt;code class=&quot;highlighter-rouge&quot;&gt;usart2&lt;/code&gt;输出，并且对电机发生作用。&lt;/p&gt;

&lt;h2 id=&quot;注意&quot;&gt;注意&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;为了表示usart1口的指令是正确的，从usart2口输出的数据会将关键字符 X Y F替换成A B C。&lt;/strong&gt;&lt;/p&gt;

&lt;h2 id=&quot;dual板图片&quot;&gt;dual板图片&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;http://leisong03.github.io/images/3C198664-D907-4C72-93F4-150CBF516EBA.png&quot; alt=&quot;3C198664-D907-4C72-93F4-150CBF516EBA&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;接线方法&quot;&gt;接线方法&lt;/h2&gt;

&lt;h3 id=&quot;原始总体接线图&quot;&gt;原始总体接线图&lt;/h3&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;板上电机端口&lt;/th&gt;
      &lt;th&gt;AGV功能链接&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;备注&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;X电机端口&lt;/td&gt;
      &lt;td&gt;左轮驱动&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1EN(EN)，2FR(MS1)，3PG(MS2)，4BK(ST)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Y电机端口&lt;/td&gt;
      &lt;td&gt;右轮驱动&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1EN(EN)，2FR(MS1)，3PG(MS2)，4BK(ST)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Z电机端口&lt;/td&gt;
      &lt;td&gt;无&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;E0电机端口&lt;/td&gt;
      &lt;td&gt;左右轮SV&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1GND，2 SV_左，3 SV_右，4GND 直连板接E0DIR和E0EN&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;E1电机端口&lt;/td&gt;
      &lt;td&gt;寻磁&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1GND，2TX，3RX，4GND。(E1DIR和usart3_RX复用，E1STEP和usart3_tx复用)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;usart1&lt;/td&gt;
      &lt;td&gt;rfid&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1GND，2TX，3RX，4GND&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;usart2&lt;/td&gt;
      &lt;td&gt;超声&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1GND，2TX，3RX，4GND&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;usb口&lt;/td&gt;
      &lt;td&gt;摄像头&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;VLC免驱摄像头&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;音频输入&lt;/td&gt;
      &lt;td&gt;单mic&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;音频输出&lt;/td&gt;
      &lt;td&gt;运放模块&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;杨总版本接线图&quot;&gt;杨总版本接线图&lt;/h3&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;板上电机端口&lt;/th&gt;
      &lt;th&gt;AGV功能链接&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;备注&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;X电机端口&lt;/td&gt;
      &lt;td&gt;左轮驱动&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;del&gt;1EN(EN)，2FR(MS1)，3PG(MS2)，4BK(ST)&lt;/del&gt; &lt;strong&gt;&lt;em&gt;1GND 2 EN 3, STEP 4 DIR 5 SV&lt;/em&gt;&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Y电机端口&lt;/td&gt;
      &lt;td&gt;右轮驱动&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;del&gt;1EN(EN)，2FR(MS1)，3PG(MS2)，4BK(ST)&lt;/del&gt; &lt;strong&gt;1GND 2 EN 3, STEP 4 DIR 5 SV&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Z_MIN&lt;/td&gt;
      &lt;td&gt;左轮PG&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;1 PG, 2 GND, 3 5V&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Z_MAX&lt;/td&gt;
      &lt;td&gt;右轮PG&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;1 PG, 2 GND, 3 5V&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Z电机端口&lt;/td&gt;
      &lt;td&gt;无&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;E0电机端口&lt;/td&gt;
      &lt;td&gt;左右轮SV&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;del&gt;1GND，2 SV_左，3 SV_右，4GND 直连板接E0DIR和E0EN&lt;/del&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;E1电机端口&lt;/td&gt;
      &lt;td&gt;寻磁&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1GND，2TX，3RX，4GND。(E1DIR和usart3_RX复用，E1STEP和usart3_tx复用)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;usart1&lt;/td&gt;
      &lt;td&gt;&lt;del&gt;rfid&lt;/del&gt; &lt;strong&gt;控制命令输入&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1GND，2TX，3RX，4GND&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;usart2&lt;/td&gt;
      &lt;td&gt;&lt;del&gt;超声&lt;/del&gt; &lt;strong&gt;控制指令输出&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1GND，2TX，3RX，4GND&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;usb口&lt;/td&gt;
      &lt;td&gt;摄像头&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;VLC免驱摄像头&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;音频输入&lt;/td&gt;
      &lt;td&gt;单mic&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;音频输出&lt;/td&gt;
      &lt;td&gt;运放模块&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;命令解析程序&quot;&gt;命令解析程序&lt;/h2&gt;

&lt;p&gt;对于串口收到数据的解析用如下程序完成：&lt;/p&gt;

&lt;div class=&quot;language-c++ highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;USART_GetITStatus&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;USART1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;USART_IT_RXNE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;RESET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
	&lt;span class=&quot;kt&quot;&gt;uint8_t&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;USART_ReceiveData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;USART1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;usart1Ready&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
	    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;'X'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;usart1Idx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
	    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;usart1Ready&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; 
	&lt;span class=&quot;n&quot;&gt;rx1Data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;usart1Idx&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;'\n'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
	    &lt;span class=&quot;n&quot;&gt;usart1Ready&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	    &lt;span class=&quot;kt&quot;&gt;uint8_t&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strLen&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;usartIdx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	    &lt;span class=&quot;n&quot;&gt;usart1Idx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	    &lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;keyword&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;'X'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;'Y'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;'F'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
	    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
		&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;strLen&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rx1Data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;keyword&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
		    &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;strLen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
		    &lt;span class=&quot;n&quot;&gt;sscanf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rx1Data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%d&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;param&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]));&lt;/span&gt;
		&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;toReplayOverUsart2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
	    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;setAxisDir&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;param&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;
	    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;USART_ClearITPendingBit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;USART1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;USART_IT_RXNE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;从usart2 输出的包的输出程序&lt;/p&gt;

&lt;p&gt;uint8_t strBuf[30];&lt;/p&gt;

&lt;div class=&quot;language-c++ highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    &lt;span class=&quot;n&quot;&gt;sprintf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;strBuf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;A%d B%d C%d&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;param&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;param&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;param&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;strlen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;strBuf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;USART_SendData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;EVAL_COM2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;uint8_t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strBuf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;USART_GetFlagStatus&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;EVAL_COM2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;USART_FLAG_TC&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;RESET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){};&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;串口通信参数&quot;&gt;串口通信参数&lt;/h2&gt;

&lt;p&gt;波特率：9600  8n1&lt;/p&gt;

&lt;h2 id=&quot;控制指令格式&quot;&gt;控制指令格式&lt;/h2&gt;

&lt;p&gt;底盘车通信格式&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;字段1&lt;/th&gt;
      &lt;th&gt;字段2&lt;/th&gt;
      &lt;th&gt;字段3&lt;/th&gt;
      &lt;th&gt;字段4&lt;/th&gt;
      &lt;th&gt;字段5&lt;/th&gt;
      &lt;th&gt;字段6&lt;/th&gt;
      &lt;th&gt;字段7&lt;/th&gt;
      &lt;th&gt;字段8&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;X&lt;/td&gt;
      &lt;td&gt;数字1&lt;/td&gt;
      &lt;td&gt;空格&lt;/td&gt;
      &lt;td&gt;Y&lt;/td&gt;
      &lt;td&gt;数字2&lt;/td&gt;
      &lt;td&gt;F&lt;/td&gt;
      &lt;td&gt;数字3&lt;/td&gt;
      &lt;td&gt;换行符&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;数字1左轮正负分别代表前进后退 大小代表转N个10分之1圈&lt;/p&gt;

&lt;p&gt;数字2右轮正负分别代表前进后退大小代表转N个10分之1圈&lt;/p&gt;

&lt;p&gt;数字3代表运行速度 范围为1-30&lt;/p&gt;

&lt;h2 id=&quot;命令例子&quot;&gt;命令例子&lt;/h2&gt;

&lt;p&gt;X10 Y10 F20↵&lt;/p&gt;

&lt;p&gt;车前进1圈，运行速度为20&lt;/p&gt;
</description>
        <pubDate>Sun, 04 Mar 2018 15:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/03/04/DULA-ON-AGV-xian-debug/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/03/04/DULA-ON-AGV-xian-debug/</guid>
        
        <category>AGV</category>
        
        <category>SongLei</category>
        
        
        <category>AGV</category>
        
      </item>
    
      <item>
        <title>RAYLAND RL-150型 SLA打印机数据手册</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#rayland-rl-150型-sla打印机数据手册&quot; id=&quot;markdown-toc-rayland-rl-150型-sla打印机数据手册&quot;&gt;RAYLAND RL-150型 SLA打印机数据手册&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#概述&quot; id=&quot;markdown-toc-概述&quot;&gt;概述&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#关键参数&quot; id=&quot;markdown-toc-关键参数&quot;&gt;关键参数&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#实物图&quot; id=&quot;markdown-toc-实物图&quot;&gt;实物图&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;RAYLAND RL-150&lt;/code&gt;型 &lt;code class=&quot;highlighter-rouge&quot;&gt;SLA&lt;/code&gt;打印机数据手册&lt;/p&gt;

&lt;h1 id=&quot;rayland-rl-150型-sla打印机数据手册&quot;&gt;RAYLAND RL-150型 SLA打印机数据手册&lt;/h1&gt;

&lt;h2 id=&quot;概述&quot;&gt;概述&lt;/h2&gt;

&lt;p&gt;RL-150型SLA打印机是锐蓝推出的工业级下沉式SLA打印机。采用了锐蓝自研的Rayland-SLA-001主板，采用一体式的电机和振镜控制系统。具备体积小，打印面积占比大，操作便捷，维修简单的优点。适用于商用打印服务和企业研发。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/06AED3DD-EEDF-4C14-8342-A20B46D53543.png&quot; alt=&quot;06AED3DD-EEDF-4C14-8342-A20B46D53543&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;关键参数&quot;&gt;关键参数&lt;/h2&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;项目&lt;/th&gt;
      &lt;th&gt;参数&lt;/th&gt;
      &lt;th&gt;备注&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;激光波长&lt;/td&gt;
      &lt;td&gt;405nm&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;成型截面积&lt;/td&gt;
      &lt;td&gt;150mm x 150mm&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;成型高度&lt;/td&gt;
      &lt;td&gt;140mm&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;整机尺寸&lt;/td&gt;
      &lt;td&gt;540mm x 550mm x 980mm&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;干重量&lt;/td&gt;
      &lt;td&gt;150kg&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;料槽容积&lt;/td&gt;
      &lt;td&gt;9L&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;打印精度&lt;/td&gt;
      &lt;td&gt;0.05mm&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;最高扫描速度&lt;/td&gt;
      &lt;td&gt;6m/s&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;电压&lt;/td&gt;
      &lt;td&gt;220V&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;功率&lt;/td&gt;
      &lt;td&gt;&amp;lt;100瓦&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;屏幕尺寸&lt;/td&gt;
      &lt;td&gt;9寸&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;操作系统&lt;/td&gt;
      &lt;td&gt;安卓4.4&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;支持联网方式&lt;/td&gt;
      &lt;td&gt;WiFi，4G（可选）以太网（可选）&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;实物图&quot;&gt;实物图&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/images/B4A7B735-FF3F-4E21-855E-EB1D6A76A097.png&quot; alt=&quot;B4A7B735-FF3F-4E21-855E-EB1D6A76A097&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/B27722CB-AC6E-4EE3-A2EE-E4A44D2C90D7.png&quot; alt=&quot;B27722CB-AC6E-4EE3-A2EE-E4A44D2C90D7&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/1E22F7F0-D04C-48AA-83DE-E4E52CFD486C.png&quot; alt=&quot;1E22F7F0-D04C-48AA-83DE-E4E52CFD486C&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/DBF2BEC0-6D51-44C2-86C2-55AEA93BBE15.png&quot; alt=&quot;DBF2BEC0-6D51-44C2-86C2-55AEA93BBE15&quot; /&gt;&lt;/p&gt;

</description>
        <pubDate>Fri, 02 Mar 2018 12:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/03/02/RAYLAND-RL-150-SLA-instructions/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/03/02/RAYLAND-RL-150-SLA-instructions/</guid>
        
        <category>3D打印</category>
        
        <category>FDM</category>
        
        <category>Rayland-SLA</category>
        
        <category>SongLei</category>
        
        
        <category>FDM</category>
        
      </item>
    
      <item>
        <title>天和机器人音量调节说明文档</title>
        <description>
&lt;p&gt;天和机器人音量调节说明文档。&lt;/p&gt;

&lt;p&gt;音量调节的宏&lt;/p&gt;

&lt;div class=&quot;language-c++ highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;cp&quot;&gt;#define VOLUME_CHANGE(x){\
    X9C102_CS_GPIO_PORT-&amp;gt;ODR &amp;amp;= ~X9C102_CS_PIN;\
    if(x)\
	X9C102_UD_GPIO_PORT-&amp;gt;ODR &amp;amp;= ~X9C102_UD_PIN;\
    else\
	X9C102_UD_GPIO_PORT-&amp;gt;ODR |= X9C102_UD_PIN;\
    DELAY_US(100);\
    for(int i=0;i&amp;lt;10;i++){\
	X9C102_INC_GPIO_PORT-&amp;gt;ODR |= X9C102_INC_PIN;\
	DELAY_US(10);\
	X9C102_INC_GPIO_PORT-&amp;gt;ODR &amp;amp;= ~X9C102_INC_PIN;\
	DELAY_US(10);\
    }\
    X9C102_CS_GPIO_PORT-&amp;gt;ODR |= X9C102_CS_PIN;\
}
&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#define VOLUME_UP() VOLUME_CHANGE(1);
#define VOLUME_DOWN() VOLUME_CHANGE(0);
&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;主函数就是一个死循环&lt;/p&gt;

&lt;p&gt;while(1)//主程序循环，反复执行循环体里的语句&lt;/p&gt;

&lt;div class=&quot;language-c++ highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;volume&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;volume&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;VOLUME_UP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;VOLUME_DOWN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;volume&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;这里全局变量Volume表示采集到的旋钮的动作，这个变量的更新是在timer的中断响应函数里面做的&lt;/p&gt;

&lt;div class=&quot;language-c++ highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;cp&quot;&gt;#define CYCLE 10
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;uint16_t&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pgCount&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;uint8_t&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pgReady&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;int8_t&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;volume&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;int8_t&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;outB&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;cm&quot;&gt;/**
  * @brief Timer1 Update/Overflow/Trigger/Break Interrupt routine.
  * @param  None
  * @retval None
  */&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;INTERRUPT_HANDLER&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;TIM1_UPD_OVF_TRG_BRK_IRQHandler&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;cm&quot;&gt;/* In order to detect unexpected events during development,
     it is recommended to set a breakpoint on the following instruction.
  */&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;TIM1_ClearITPendingBit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;TIM1_IT_UPDATE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pgbPort&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;IDR&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pgbPin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;outB&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;outB&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pgPort&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;IDR&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pgPin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pgCount&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CYCLE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	    &lt;span class=&quot;n&quot;&gt;pgCount&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pgCount&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	    &lt;span class=&quot;n&quot;&gt;pgCount&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pgCount&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;pgReady&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pgCount&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;CYCLE&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pgReady&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pgbPort&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;IDR&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pgbPin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	    &lt;span class=&quot;n&quot;&gt;volume&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; 
	    &lt;span class=&quot;n&quot;&gt;volume&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;pgReady&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

</description>
        <pubDate>Fri, 02 Mar 2018 07:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/03/02/tianhe-robot-voice/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/03/02/tianhe-robot-voice/</guid>
        
        <category>TianHe</category>
        
        <category>SongLei</category>
        
        
        <category>TianHe</category>
        
      </item>
    
      <item>
        <title>用Rayland-DUAL主板控制鸵鸟机器人 控制协议</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#鸵鸟机器人&quot; id=&quot;markdown-toc-鸵鸟机器人&quot;&gt;鸵鸟机器人&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#鸵鸟机器人接线方法&quot; id=&quot;markdown-toc-鸵鸟机器人接线方法&quot;&gt;鸵鸟机器人接线方法&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#总体接线图&quot; id=&quot;markdown-toc-总体接线图&quot;&gt;总体接线图&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#主板&quot; id=&quot;markdown-toc-主板&quot;&gt;主板&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#从板&quot; id=&quot;markdown-toc-从板&quot;&gt;从板&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#远程控制鸵鸟机器人的网络配置&quot; id=&quot;markdown-toc-远程控制鸵鸟机器人的网络配置&quot;&gt;远程控制鸵鸟机器人的网络配置&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;本文简单介绍了用&lt;code class=&quot;highlighter-rouge&quot;&gt;Rayland-DUAL&lt;/code&gt;主板控制鸵鸟机器人的接线方法和控制协议。&lt;/p&gt;

&lt;h1 id=&quot;鸵鸟机器人&quot;&gt;鸵鸟机器人&lt;/h1&gt;

&lt;h3 id=&quot;鸵鸟机器人接线方法&quot;&gt;鸵鸟机器人接线方法&lt;/h3&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;设备&lt;/code&gt;&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;个数&lt;/code&gt;&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;RFID&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;16通道寻磁&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;rayland-dual主板&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;2&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;摄像云台舵机&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;2&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;总体接线图&quot;&gt;总体接线图&lt;/h3&gt;

&lt;h3 id=&quot;主板&quot;&gt;主板&lt;/h3&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;板上电机端口&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;鸵鸟功能链接&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;备注&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;X电机端口&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;左轮驱动&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1FR(EN)2BK(MS1)3PG(MS2)4GND(GND)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;Y电机端口&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;右轮驱动&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1FR(EN)2BK(MS1)3PG(MS2)4GND(GND)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;Z电机端口&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;旋转轴驱动&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1FR(EN)2BK(MS1)3PG(MS2)4GND(GND)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;E0电机端口&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;空&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;空&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;E1电机端口&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;16通道寻磁&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1GND2TX(STEP)3RX(DIR)4GND&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;USART1&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;RFID&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1GND,2TX,3RX,4GND&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;USART2&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;与从板桥接&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1GND,2TX,3RX,4GND&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;USB口&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;USB转网口&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;从板&quot;&gt;从板&lt;/h3&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;板上电机端口&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;鸵鸟功能链接&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;备注&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;X电机端口&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;滑台前后驱动&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1FR(EN)2BK(MS1)3PG(MS2)4GND(GND)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;Y电机端口&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;滑台左右驱动&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1FR(EN)2BK(MS1)3PG(MS2)4GND(GND)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;Z电机端口&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;升降轴驱动&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1FR(EN)2BK(MS1)3PG(MS2)4GND(GND)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;E0电机端口&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;空&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;空&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;E1电机端口&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;摄像云台舵机&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1GND2TX（EN）3RX（MS1）4GND&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;USART2&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;与主板&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1GND,2TX,3RX,4GND&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;远程控制鸵鸟机器人的网络配置&quot;&gt;远程控制鸵鸟机器人的网络配置&lt;/h3&gt;

&lt;p&gt;测试时将电脑连接到机器上配备的路由器网络。&lt;/p&gt;

&lt;p&gt;1.配置路由器ip地址，将LAN口ip设置改成为10.120.17.1，如下图所示。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2B6A3FAF-5C5E-42D1-AB16-5AC453C8913A.png&quot; alt=&quot;2B6A3FAF-5C5E-42D1-AB16-5AC453C8913A&quot; /&gt;&lt;/p&gt;

&lt;p&gt;2.打开控制软件ostrich，输入相应的IP地址：10.120.17.100。能正常收发数据后，开始进行遥控测试。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/EC843173-5A40-4EB4-A0AF-7E439F271036.png&quot; alt=&quot;EC843173-5A40-4EB4-A0AF-7E439F271036&quot; /&gt;&lt;/p&gt;

</description>
        <pubDate>Thu, 01 Mar 2018 07:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/03/01/ostrich-robot/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/03/01/ostrich-robot/</guid>
        
        <category>AGV</category>
        
        <category>Rayland-DUAL</category>
        
        <category>MeiXing</category>
        
        
        <category>AGV</category>
        
      </item>
    
      <item>
        <title>帮团售货柜控制协议</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#帮团售货柜控制协议&quot; id=&quot;markdown-toc-帮团售货柜控制协议&quot;&gt;帮团售货柜控制协议&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#概述&quot; id=&quot;markdown-toc-概述&quot;&gt;概述&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#硬件接线&quot; id=&quot;markdown-toc-硬件接线&quot;&gt;硬件接线&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#dual板接线&quot; id=&quot;markdown-toc-dual板接线&quot;&gt;Dual板接线&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#分线器板接线&quot; id=&quot;markdown-toc-分线器板接线&quot;&gt;分线器板接线&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#称板12版本接线&quot; id=&quot;markdown-toc-称板12版本接线&quot;&gt;称板（1、2版本）接线&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#通讯协议&quot; id=&quot;markdown-toc-通讯协议&quot;&gt;通讯协议&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#控制包-a33-stm32&quot; id=&quot;markdown-toc-控制包-a33-stm32&quot;&gt;控制包 A33-&amp;gt;STM32&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#状态包-stm32-a33&quot; id=&quot;markdown-toc-状态包-stm32-a33&quot;&gt;状态包 STM32-&amp;gt;A33&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#控制界面&quot; id=&quot;markdown-toc-控制界面&quot;&gt;控制界面&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;帮团售货柜控制协议。&lt;/p&gt;

&lt;h1 id=&quot;帮团售货柜控制协议&quot;&gt;帮团售货柜控制协议&lt;/h1&gt;

&lt;h2 id=&quot;概述&quot;&gt;概述&lt;/h2&gt;

&lt;p&gt;控制器共包括如下套件&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;部件&lt;/th&gt;
      &lt;th&gt;数量&lt;/th&gt;
      &lt;th&gt;备注&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;舵机&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;均为180度舵机&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;光学碰撞开关&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;磁性碰撞开关&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;USB摄像头&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;UVC摄像头&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;USB网卡&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;RTL8152&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;热敏电阻&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;继电器板&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;控制压缩机&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;喇叭&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;通过运放&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;麦克风&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;单mic&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;7寸屏幕&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;调试用（一批发货只配一个）&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;LED输出&lt;/td&gt;
      &lt;td&gt;6&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;硬件接线&quot;&gt;硬件接线&lt;/h2&gt;

&lt;h3 id=&quot;dual板接线&quot;&gt;Dual板接线&lt;/h3&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;板上端口&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;售货机功能链接&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;备注&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;X\Y\Z\EO电机端口&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;舵机*4&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1信号线(EN)2VCC(5V)3GND(GND)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;I2C口*1&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;接I2C板（分线器）&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1 VCC   2 SCL(stem32 pin47)                3SDA（stem32 pin48） 4 GND&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;限位开关口*6&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;光电开关&lt;em&gt;3                                    霍尔开关&lt;/em&gt;3&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1信号线2GND3VCC（5V）&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;OUT口*6&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;LED灯&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1信号线2VCC&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;分线器板接线&quot;&gt;分线器板接线&lt;/h3&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;板上端口&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;接线&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;I2C口*8&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1 VCC   2 SCL   3 SDA  4 GND&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;称板12版本接线&quot;&gt;称板（1、2版本）接线&lt;/h3&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;板上端口&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;接线&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;I2C口*1&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1 VCC   2 SCL   3 SDA  4 GND&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;称重传感器接口*8&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1 VCC   2 TX   3 RX   4GND&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;通讯协议&quot;&gt;通讯协议&lt;/h2&gt;

&lt;p&gt;从I2C总线走，所以无需包头包尾和校验位&lt;/p&gt;

&lt;h3 id=&quot;控制包-a33-stm32&quot;&gt;控制包 A33-&amp;gt;STM32&lt;/h3&gt;

&lt;p&gt;总包长 13&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;编号&lt;/th&gt;
      &lt;th&gt;数据类型&lt;/th&gt;
      &lt;th&gt;项目&lt;/th&gt;
      &lt;th&gt;备注&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte0&lt;/td&gt;
      &lt;td&gt;uint8_t&lt;/td&gt;
      &lt;td&gt;seq&lt;/td&gt;
      &lt;td&gt;序列号：0～255&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte1&lt;/td&gt;
      &lt;td&gt;uint8_t&lt;/td&gt;
      &lt;td&gt;Type&lt;/td&gt;
      &lt;td&gt;包类型：0&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte2～Byte5&lt;/td&gt;
      &lt;td&gt;uint8_t&lt;/td&gt;
      &lt;td&gt;sweeperPos[4]&lt;/td&gt;
      &lt;td&gt;舵机值：0～255&lt;br /&gt;对应1～2ms输出&lt;br /&gt;对应0～180角度&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte6~Byte11&lt;/td&gt;
      &lt;td&gt;uint8_t&lt;/td&gt;
      &lt;td&gt;outVal[6]&lt;/td&gt;
      &lt;td&gt;out1到out6的输出值：0～255&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte12&lt;/td&gt;
      &lt;td&gt;int16&lt;/td&gt;
      &lt;td&gt;ExtTargetTemp&lt;/td&gt;
      &lt;td&gt;外置温控器目标温度：-300～300&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;状态包-stm32-a33&quot;&gt;状态包 STM32-&amp;gt;A33&lt;/h3&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;编号&lt;/th&gt;
      &lt;th&gt;数据类型&lt;/th&gt;
      &lt;th&gt;项目&lt;/th&gt;
      &lt;th&gt;备注&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte0&lt;/td&gt;
      &lt;td&gt;uint8_t&lt;/td&gt;
      &lt;td&gt;seq&lt;/td&gt;
      &lt;td&gt;序列号：0～255&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte1&lt;/td&gt;
      &lt;td&gt;uint8_t&lt;/td&gt;
      &lt;td&gt;Type&lt;/td&gt;
      &lt;td&gt;包类型：1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte2~Byte9&lt;/td&gt;
      &lt;td&gt;uint16_t&lt;/td&gt;
      &lt;td&gt;ADCValue[4]&lt;/td&gt;
      &lt;td&gt;传感器值: 0~4095&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte10～Byte11&lt;/td&gt;
      &lt;td&gt;int16_t&lt;/td&gt;
      &lt;td&gt;ThermalCouple&lt;/td&gt;
      &lt;td&gt;热电偶温度值：-300～300&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte12～Byte13&lt;/td&gt;
      &lt;td&gt;int16_t&lt;/td&gt;
      &lt;td&gt;ExtCurTemp&lt;/td&gt;
      &lt;td&gt;外置温控器当前温度：-300～300&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte14～Byte17&lt;/td&gt;
      &lt;td&gt;uint8_t&lt;/td&gt;
      &lt;td&gt;sweeperPos[4]&lt;/td&gt;
      &lt;td&gt;舵机当前值：0～255&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte18~Byte21&lt;/td&gt;
      &lt;td&gt;uint8_t&lt;/td&gt;
      &lt;td&gt;outVal[4]&lt;/td&gt;
      &lt;td&gt;out1到out6的当前值：0～255&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte22&lt;/td&gt;
      &lt;td&gt;uint8_t&lt;/td&gt;
      &lt;td&gt;hitWall&lt;/td&gt;
      &lt;td&gt;碰撞开关状态&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte23～Byte38&lt;/td&gt;
      &lt;td&gt;uint16_t&lt;/td&gt;
      &lt;td&gt;weightOfLayer1[8]&lt;/td&gt;
      &lt;td&gt;第一层的重量&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte39～Byte54&lt;/td&gt;
      &lt;td&gt;uint16_t&lt;/td&gt;
      &lt;td&gt;weightOfLayer2[8]&lt;/td&gt;
      &lt;td&gt;第二层的重量&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte55～Byte70&lt;/td&gt;
      &lt;td&gt;uint16_t&lt;/td&gt;
      &lt;td&gt;weightOfLayer3[8]&lt;/td&gt;
      &lt;td&gt;第三层的重量&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte71～Byte86&lt;/td&gt;
      &lt;td&gt;uint16_t&lt;/td&gt;
      &lt;td&gt;weightOfLayer4[8]&lt;/td&gt;
      &lt;td&gt;第四层的重量&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte87～Byte102&lt;/td&gt;
      &lt;td&gt;uint16_t&lt;/td&gt;
      &lt;td&gt;weightOfLayer5[8]&lt;/td&gt;
      &lt;td&gt;第五层的重量&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte103~Byte118&lt;/td&gt;
      &lt;td&gt;uint16_t&lt;/td&gt;
      &lt;td&gt;weightOfLayer6[8]&lt;/td&gt;
      &lt;td&gt;第六层的重量&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte119~Byte134&lt;/td&gt;
      &lt;td&gt;uint16_t&lt;/td&gt;
      &lt;td&gt;weightOfLayer7[8]&lt;/td&gt;
      &lt;td&gt;第七层的重量&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte135~Byte150&lt;/td&gt;
      &lt;td&gt;uint16_t&lt;/td&gt;
      &lt;td&gt;weightOfLayer8[8]&lt;/td&gt;
      &lt;td&gt;第八层的重量&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;byte 22的bit格式
| 7        | 6        | 5    | 4    | 3    | 2    | 1    | 0    |
| ——– | ——– | —- | —- | —- | —- | —- | —- |
| reserved | reserved | Zmax | Zmin | Ymax | Ymin | XMAX | XMin |&lt;/p&gt;

&lt;p&gt;重量包 STM32-&amp;gt;A33&lt;/p&gt;

&lt;h2 id=&quot;控制界面&quot;&gt;控制界面&lt;/h2&gt;
</description>
        <pubDate>Thu, 01 Mar 2018 07:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/03/01/bangtuan-shop-windows-Protocol/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/03/01/bangtuan-shop-windows-Protocol/</guid>
        
        <category>BangTuan</category>
        
        <category>MeiXing</category>
        
        
        <category>BangTuan</category>
        
      </item>
    
      <item>
        <title>Rayland-SLA 主板控制协议</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#sla控制协议&quot; id=&quot;markdown-toc-sla控制协议&quot;&gt;SLA控制协议&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#a33-stm32的配置包&quot; id=&quot;markdown-toc-a33-stm32的配置包&quot;&gt;A33-&amp;gt;STM32的配置包&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#a33-stm32的数据包&quot; id=&quot;markdown-toc-a33-stm32的数据包&quot;&gt;A33-&amp;gt;STM32的数据包&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Rayland-SLA&lt;/code&gt;主板控制协议。&lt;/p&gt;

&lt;h1 id=&quot;sla控制协议&quot;&gt;SLA控制协议&lt;/h1&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Rayland-SLA&lt;/code&gt;主板在使用&lt;code class=&quot;highlighter-rouge&quot;&gt;TTL&lt;/code&gt;激光器控制的时候遇到一个问题就是激光器无法精准控制延迟。目前的激光控制是伴随振镜步进进行的。&lt;/p&gt;

&lt;p&gt;也就是说每进行一次脉冲步进才能进行一次激光的开关。按照目前TIM5的频率是40khz计算。激光延迟的最小单位是插点时间间距。
&lt;script type=&quot;math/tex&quot;&gt;\Delta = \frac{1}{f} = \frac{1}{40k} = 25\mu s&lt;/script&gt;
所以需要在这个延迟的基础上将将激光的延迟开关周期增加到1us这个单位，也就是说需要将现在的控制精度提高100倍左右，目前的激光延迟是用一个&lt;code class=&quot;highlighter-rouge&quot;&gt;uint16_t&lt;/code&gt;的变量存储的，我们需要将这个变量的长度修改为&lt;code class=&quot;highlighter-rouge&quot;&gt;uint32_t&lt;/code&gt;。然后在TIM5的中断响应函数里面对额外加入的这些精度进行利用。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/0A02105D-9CE3-4C1A-B35D-DD67206748C6.png&quot; alt=&quot;0A02105D-9CE3-4C1A-B35D-DD67206748C6&quot; /&gt;&lt;/p&gt;

&lt;p&gt;T1:开激光延迟&lt;/p&gt;

&lt;p&gt;T2:关激光延迟&lt;/p&gt;

&lt;h2 id=&quot;a33-stm32的配置包&quot;&gt;A33-&amp;gt;STM32的配置包&lt;/h2&gt;

&lt;p&gt;总包长 20bytes&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;编号&lt;/th&gt;
      &lt;th&gt;类型&lt;/th&gt;
      &lt;th&gt;名称&lt;/th&gt;
      &lt;th&gt;备注&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte0&lt;/td&gt;
      &lt;td&gt;uint8_t&lt;/td&gt;
      &lt;td&gt;head&lt;/td&gt;
      &lt;td&gt;0x68&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte1&lt;/td&gt;
      &lt;td&gt;uint8_t&lt;/td&gt;
      &lt;td&gt;seq&lt;/td&gt;
      &lt;td&gt;自增序列号&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte2&lt;/td&gt;
      &lt;td&gt;uint8_t&lt;/td&gt;
      &lt;td&gt;pktType&lt;/td&gt;
      &lt;td&gt;包类型&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte3&lt;/td&gt;
      &lt;td&gt;uint8_t&lt;/td&gt;
      &lt;td&gt;开激光电平&lt;/td&gt;
      &lt;td&gt;0:低电压开，1:高电压开&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte4~Byte5&lt;/td&gt;
      &lt;td&gt;uint16_t&lt;/td&gt;
      &lt;td&gt;onDelay&lt;/td&gt;
      &lt;td&gt;开激光延迟（单位us）&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte6~Byte7&lt;/td&gt;
      &lt;td&gt;uint16_t&lt;/td&gt;
      &lt;td&gt;offDelay&lt;/td&gt;
      &lt;td&gt;关激光延迟（单位us）&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte8~Byte9&lt;/td&gt;
      &lt;td&gt;uint16_t&lt;/td&gt;
      &lt;td&gt;beforeJump&lt;/td&gt;
      &lt;td&gt;快跳延迟（单位us）&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte10～Byte17&lt;/td&gt;
      &lt;td&gt;uint8_t&lt;/td&gt;
      &lt;td&gt;reserve[8]&lt;/td&gt;
      &lt;td&gt;备用&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte18&lt;/td&gt;
      &lt;td&gt;uint8_t&lt;/td&gt;
      &lt;td&gt;tail&lt;/td&gt;
      &lt;td&gt;0xFF&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte19&lt;/td&gt;
      &lt;td&gt;uint8_t&lt;/td&gt;
      &lt;td&gt;checksum&lt;/td&gt;
      &lt;td&gt;校验和&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;a33-stm32的数据包&quot;&gt;A33-&amp;gt;STM32的数据包&lt;/h2&gt;

&lt;p&gt;总包长 20bytes&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;编号&lt;/th&gt;
      &lt;th&gt;类型&lt;/th&gt;
      &lt;th&gt;名称&lt;/th&gt;
      &lt;th&gt;备注&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte0&lt;/td&gt;
      &lt;td&gt;uint8_t&lt;/td&gt;
      &lt;td&gt;head&lt;/td&gt;
      &lt;td&gt;0x68&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte1&lt;/td&gt;
      &lt;td&gt;uint8_t&lt;/td&gt;
      &lt;td&gt;seq&lt;/td&gt;
      &lt;td&gt;自增序列号&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte2&lt;/td&gt;
      &lt;td&gt;uint8_t&lt;/td&gt;
      &lt;td&gt;pktType&lt;/td&gt;
      &lt;td&gt;包类型&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte3&lt;/td&gt;
      &lt;td&gt;uint8_t&lt;/td&gt;
      &lt;td&gt;ctrl&lt;/td&gt;
      &lt;td&gt;控制位&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte4~Byte7&lt;/td&gt;
      &lt;td&gt;uint16_t&lt;/td&gt;
      &lt;td&gt;posXY[2]&lt;/td&gt;
      &lt;td&gt;目标位置&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte8~Byte11&lt;/td&gt;
      &lt;td&gt;uint16_t&lt;/td&gt;
      &lt;td&gt;stepCnt[2]&lt;/td&gt;
      &lt;td&gt;插点数量&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte12~Byte15&lt;/td&gt;
      &lt;td&gt;int16_t&lt;/td&gt;
      &lt;td&gt;stepXY[2]&lt;/td&gt;
      &lt;td&gt;插点空间间距&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte16&lt;/td&gt;
      &lt;td&gt;uint8_t&lt;/td&gt;
      &lt;td&gt;stepPeriod&lt;/td&gt;
      &lt;td&gt;插点时间间距&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte17&lt;/td&gt;
      &lt;td&gt;uint8_t&lt;/td&gt;
      &lt;td&gt;reserve&lt;/td&gt;
      &lt;td&gt;备用&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte18&lt;/td&gt;
      &lt;td&gt;uint8_t&lt;/td&gt;
      &lt;td&gt;tail&lt;/td&gt;
      &lt;td&gt;0xFF&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Byte19&lt;/td&gt;
      &lt;td&gt;uint8_t&lt;/td&gt;
      &lt;td&gt;checksum&lt;/td&gt;
      &lt;td&gt;校验和&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;ctrl内容&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;7&lt;/th&gt;
      &lt;th&gt;6&lt;/th&gt;
      &lt;th&gt;5&lt;/th&gt;
      &lt;th&gt;4&lt;/th&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;th&gt;0&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;reserved&lt;/td&gt;
      &lt;td&gt;reserved&lt;/td&gt;
      &lt;td&gt;reserved&lt;/td&gt;
      &lt;td&gt;reserved&lt;/td&gt;
      &lt;td&gt;reserved&lt;/td&gt;
      &lt;td&gt;AutoOff&lt;/td&gt;
      &lt;td&gt;onOff&lt;/td&gt;
      &lt;td&gt;isReset&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
</description>
        <pubDate>Sun, 25 Feb 2018 07:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/02/25/SLA-Comm-Protocol/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/02/25/SLA-Comm-Protocol/</guid>
        
        <category>3D打印</category>
        
        <category>FDM</category>
        
        <category>Rayland-SLA</category>
        
        <category>SongLei</category>
        
        
        <category>FDM</category>
        
      </item>
    
      <item>
        <title>LCD光固化发货测试流程</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#环境搭建&quot; id=&quot;markdown-toc-环境搭建&quot;&gt;环境搭建&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#准备材料&quot; id=&quot;markdown-toc-准备材料&quot;&gt;准备材料&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#接线&quot; id=&quot;markdown-toc-接线&quot;&gt;接线&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#测试要点&quot; id=&quot;markdown-toc-测试要点&quot;&gt;测试要点&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#启动过程&quot; id=&quot;markdown-toc-启动过程&quot;&gt;启动过程&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#h3连接测试&quot; id=&quot;markdown-toc-h3连接测试&quot;&gt;H3连接测试&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#电控测试&quot; id=&quot;markdown-toc-电控测试&quot;&gt;电控测试&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#打印流程测试&quot; id=&quot;markdown-toc-打印流程测试&quot;&gt;打印流程测试&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;LCD光固化发货测试流程&lt;/p&gt;

&lt;h2 id=&quot;环境搭建&quot;&gt;环境搭建&lt;/h2&gt;

&lt;h3 id=&quot;准备材料&quot;&gt;准备材料&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;已烧录好最新镜像文件的TF卡1张；&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;H3主板1块;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;可以正常显示的曝光屏一块以及配套电源；&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;已烧录好最新Hex的Solo主板或Dual主板1块;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;已烧录好最新镜像文件和光固化软件的核心板1块;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;触摸屏1块，屏幕排线1条;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;HDMI连接线1条;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;带Micro USB接口的数据线1条;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;4988驱动1个，步进电机1个，碰撞开关1个；&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;12V电源1个；&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;带有CWS测试文件的U盘或SD卡；&lt;/p&gt;

    &lt;p&gt;​&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;接线&quot;&gt;接线&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;TF卡插H3主板卡槽；&lt;/li&gt;
  &lt;li&gt;核心板插Solo主板或Dual主板插槽；&lt;/li&gt;
  &lt;li&gt;4988模块插Solo主板或Dual主板Z轴插槽，&lt;strong&gt;注意4988模块上箭头指向主板外沿&lt;/strong&gt;；&lt;/li&gt;
  &lt;li&gt;步进电机接Solo主板或Dual主板Z轴电机接口；&lt;/li&gt;
  &lt;li&gt;碰撞开关接Solo主板或Dual主板Z Min接口；&lt;/li&gt;
  &lt;li&gt;用排线连接触摸屏与Solo主板或Dual主板；&lt;/li&gt;
  &lt;li&gt;用带Micro USB接口的数据线连接H3主板与Solo主板或Dual主板；&lt;/li&gt;
  &lt;li&gt;用HDMI线连接H3主板与曝光屏，曝光屏用其配套电源供电；&lt;/li&gt;
  &lt;li&gt;确保以上所有步骤后用12V电源给Solo主板或Dual主板供电开始测试；&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/images/dlp_in_circuit.jpg&quot; alt=&quot;连接图&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;测试要点&quot;&gt;测试要点&lt;/h2&gt;

&lt;h3 id=&quot;启动过程&quot;&gt;启动过程&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;H3主板指示灯点亮；&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;曝光屏背光开启；&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;触摸屏显示正常；&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;软件自动启动；&lt;/p&gt;

    &lt;p&gt;​&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;h3连接测试&quot;&gt;H3连接测试&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;软件启动后，右上角的连接状态为已连接；&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;/images/main_page.png&quot; alt=&quot;主界面&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;点击“设置–光固化设置”，按照准备的曝光屏设置曝光屏宽(475），高(295)，分辨率(1680*1050)，接口(HDMI)。&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;/images/set_resolution.png&quot; alt=&quot;设置曝光屏参数&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;设置后H3板将会自动重启，右上角状态变为已断开，曝光屏在H3启动过程应有图像显示；&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;/images/h3_reboot.jpg&quot; alt=&quot;h3重启界面&quot; /&gt;&lt;/p&gt;

    &lt;p&gt;​&lt;/p&gt;

    &lt;p&gt;​&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;重启完成后“曝光屏分辨率”的值变为设置的值，右上角的连接状态变为已连接，设置成功；&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;/images/set_resolution_success.png&quot; alt=&quot;设置成功&quot; /&gt;&lt;/p&gt;

    &lt;p&gt;​&lt;/p&gt;

    &lt;p&gt;​&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;电控测试&quot;&gt;电控测试&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;在主界面连续点击空白处10次进入“机器设置”界面，点击“Z轴设置”，给Z轴设置合适的“驱动电压”，“每毫米步进数”，将“碰撞开关位置”设置为“安装在最小”；&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;/images/axis_z_config.png&quot; alt=&quot;Z轴设置&quot; /&gt;&lt;/p&gt;

    &lt;p&gt;​&lt;/p&gt;

    &lt;p&gt;​&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;回到主界面点击“维护 – 回零点 – 平台归位到最低点”，电机开始转动，此时触发碰撞开关，电机停止转动。&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;/images/home_axis.png&quot; alt=&quot;归位&quot; /&gt;&lt;/p&gt;

    &lt;p&gt;​&lt;/p&gt;

    &lt;p&gt;​&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;回到主界面电机“维护 – 清理”，弹出设置曝光时间，设置5，点击确定后Solo主板或Dual主板out1接口下方led灯点亮，曝光屏显示一张全屏的纯白色图片，5秒后，led灯熄灭，曝光屏显示的白色图片也消失。&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/images/expose_full_screen.png&quot; alt=&quot;曝光&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;打印流程测试&quot;&gt;打印流程测试&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;将带有测试文件的U盘或SD卡插入主板，在主界面点击“模型”进入“模型列表”界面，按住右侧的列表下拉松手刷新，可以刷出测试文件；&lt;/p&gt;

    &lt;p&gt;​&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;点击选中测试文件，如果测试文件是CWS格式，左侧进度条会有变化，进度条加载完成后出现3D渲染界面；&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;/images/model_list.png&quot; alt=&quot;模型列表&quot; /&gt;&lt;/p&gt;

    &lt;p&gt;​&lt;/p&gt;

    &lt;p&gt;​&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;点击“开始打印”进入打印界面，电机开始转动，触摸屏和曝光屏不显示图片，out1接口下方led灯熄灭状态；&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;/images/ready_expose.png&quot; alt=&quot;开始打印&quot; /&gt;&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;/images/out1_close.jpg&quot; alt=&quot;准备曝光&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;手动触发一次碰撞开关，电机开始反向转动一段距离然后再按原来的方向以更慢的速度转动，此时再触发一次碰撞开关，电机停止转动，触摸屏和曝光屏开始显示图片，同时out1接口下方led灯点亮；&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;/images/expose_layer.png&quot; alt=&quot;曝光单层&quot; /&gt;&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;/images/out1_open.jpg&quot; alt=&quot;曝光单层&quot; /&gt;&lt;/p&gt;

    &lt;p&gt;​&lt;/p&gt;

    &lt;p&gt;​&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;几秒后，触摸屏和曝光屏显示的图片消失，同时out1接口下方的led灯自动熄灭，电机在几秒后开始转动，转动时先往一个方向转动一定距离再往另一个方向转动一定距离。&lt;/p&gt;

    &lt;p&gt;​&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;几秒后，触摸屏和曝光屏开始显示图片，同时out1接口下方led灯点亮，点击“停止 – 确定”退出打印界面，此时out1接口下方led灯熄灭，曝光屏不显示图像，打印停止；&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;/images/stop_print.png&quot; alt=&quot;停止打印&quot; /&gt;&lt;/p&gt;

    &lt;p&gt;​&lt;/p&gt;

    &lt;p&gt;​&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

</description>
        <pubDate>Thu, 15 Feb 2018 07:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/02/15/LCD-photocuring-send-out/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/02/15/LCD-photocuring-send-out/</guid>
        
        <category>FDM</category>
        
        <category>3D打印</category>
        
        <category>SongLei</category>
        
        
        <category>FDM</category>
        
      </item>
    
      <item>
        <title>用Rayland-DUAL主板控制麦克纳姆车 控制协议</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#概述&quot; id=&quot;markdown-toc-概述&quot;&gt;概述&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#用板载安卓系统控制麦克纳姆车&quot; id=&quot;markdown-toc-用板载安卓系统控制麦克纳姆车&quot;&gt;用板载安卓系统控制麦克纳姆车&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#用ros系统控制麦克纳姆车&quot; id=&quot;markdown-toc-用ros系统控制麦克纳姆车&quot;&gt;用ROS系统控制麦克纳姆车&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#麦克纳姆车硬件接线&quot; id=&quot;markdown-toc-麦克纳姆车硬件接线&quot;&gt;麦克纳姆车硬件接线&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;本文简单介绍了用&lt;code class=&quot;highlighter-rouge&quot;&gt;Rayland-DUAL&lt;/code&gt;主板控制麦克纳姆车的接线方法和控制协议。&lt;/p&gt;

&lt;h2 id=&quot;概述&quot;&gt;概述&lt;/h2&gt;

&lt;div align=&quot;center&quot;&gt;
&lt;img src=&quot;/images/CBF15C15-F3E4-407B-939B-F6D3D3DA6776.png&quot; height=&quot;450&quot; width=&quot;450&quot; /&gt;&lt;/div&gt;

&lt;p&gt;麦克纳姆车是一种很奇特的小车，它搭载了一种全向轮子。由于轮子构造的独特性，这种车可以做出各种奇怪的动作，比如左右平移，斜向运动。以下是这种车能进行的10个运动方向和每个轮子的转动方向之间的关系。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/F32A5FE1-6698-4134-96F0-BB5C4BAC61A1.png&quot; alt=&quot;F32A5FE1-6698-4134-96F0-BB5C4BAC61A1&quot; /&gt;&lt;/p&gt;

&lt;p&gt;与控制AGV类似，控制麦克纳姆车也有两种控制方式。一个是板载的安卓控制，另一个是用ROS系统控制，利用安卓控制的控制协议如下。&lt;/p&gt;

&lt;h2 id=&quot;用板载安卓系统控制麦克纳姆车&quot;&gt;用板载安卓系统控制麦克纳姆车&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Android -&amp;gt; Stm32&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;1.1 &lt;strong&gt;控制指令&lt;/strong&gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;cmd_type,pkg_length,seq,is_reset,X,Y,Z,A,B,s,v&lt;/code&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Param&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Describe&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Type&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Range&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Unit&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;cmd_type&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;指令类型&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;uint8&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;pkg_length&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;包长度&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;uint8&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;9bytes&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;seq&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;指令序号&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;uint8&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;is_reset&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;是否抢占&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;uint8&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;0:false 1:true&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;moving_idx&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;前后&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;uint8&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;0: 前后   1: 旋转 2:平移 3:左上和右下 4: 右上和左下&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;s&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;行驶里程&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;uint16&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;1 = (1/10)r&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;v&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;行驶速度&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;int16&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;-500 ~ 500&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;(1/10)r/min&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;2.2 &lt;strong&gt;定义当前坐标&lt;/strong&gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;cmd_type,pkg_length,seq,axis_x,axis_y,ori&lt;/code&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Param&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Describe&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Type&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Range&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Unit&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;cmd_type&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;指令类型&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;uint8&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;1&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;pkg_length&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;包长度&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;uint8&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;9bytes&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;seq&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;指令序号&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;uint8&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;axis_x&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;x轴坐标&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;int16&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;1 = (1/10)r&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;axis_y&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;y轴坐标&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;int16&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;1 = (1/10)r&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ori&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;朝向&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;int16&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;1 = 1/10°&lt;/code&gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;-1 = -1/10°&lt;/code&gt; (逆时针为正)&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;3.3 &lt;strong&gt;切换控制模式&lt;/strong&gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;cmd_type,pkg_length,seq,controll_type&lt;/code&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Param&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Describe&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Type&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Range&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Unit&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;cmd_type&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;指令类型&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;uint8&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;2&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;pkg_length&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;包长度&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;uint8&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;4bytes&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;seq&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;指令序号&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;uint8&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;controll_type&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;控制模式&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;uint8&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;0：板控&lt;/code&gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;1：遥控&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Stm32 -&amp;gt; Android&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;1.1 &lt;strong&gt;状态采集&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;cmd_type,pkg_length,seq,v_x,v_y,axis_x,axis_y,ori,rfid,magn,infra,ut_f,ut_b,moto_state,mile&lt;/code&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Param&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Describe&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Type&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Range&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Unit&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;cmd_type&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;指令类型&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;uint8&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;0&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;pkg_length&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;包长度&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;uint8&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;39bytes&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;seq&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;指令序号&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;uint8&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;v_x&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;x轴速度&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;int16&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;-500 ~ 500&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;(1/10)r/min&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;v_y&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;y轴速度&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;int16&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;-500 ~ 500&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;(1/10)r/min&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;axis_x&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;x轴坐标&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;int16&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;1 = (1/10)r&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;axis_y&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;y轴坐标&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;int16&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;1 = (1/10)r&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ori&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;朝向&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;int16&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;1 = 1/10°&lt;/code&gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;-1 = -1/10°&lt;/code&gt; (逆时针为正)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;rfid&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;rfid序列号&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;uint32&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;magn&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;磁条序列号&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;uint16&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;0:missing 1:hit&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;infra&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;红外&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;uint8&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;0:false 1:true&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ut_f&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;前侧超声&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;uint16 * &lt;code class=&quot;highlighter-rouge&quot;&gt;4&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;mm&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ut_b&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;后侧超声&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;uint16 * &lt;code class=&quot;highlighter-rouge&quot;&gt;4&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;mm&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;moto_state&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;电机状态&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;uint8&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;0:stop 1:running&lt;/code&gt; 左侧第0位 右侧第一位&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;mile&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;总里程&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;uint16&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;mm&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;用ros系统控制麦克纳姆车&quot;&gt;用ROS系统控制麦克纳姆车&lt;/h2&gt;

&lt;p&gt;板载的A33处理器并不能运行ROS操作系统，需要通过外接mini PC来完成。MiniPC直接和板子上的STM32进行通讯，在ros模式下，我们需要禁用板载的寻磁传感器功能，将这个口用来做miniPC和STM32的通讯。这里为了调试方便，我们暂时使用了ascii码的方式来做。&lt;/p&gt;

&lt;p&gt;MiniPC-&amp;gt;STM32&lt;/p&gt;

&lt;p&gt;命令是变长的，用字母作为命令头开始，紧接着数字，最后用\n结束，例如向前运动一整圈就是&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;X10 \n
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;格式如下&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;命令头&lt;/th&gt;
      &lt;th&gt;数字&lt;/th&gt;
      &lt;th&gt;意义&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;X&lt;/td&gt;
      &lt;td&gt;-32768～32768&lt;/td&gt;
      &lt;td&gt;前后运动&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Y&lt;/td&gt;
      &lt;td&gt;同上&lt;/td&gt;
      &lt;td&gt;左右平移&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Z&lt;/td&gt;
      &lt;td&gt;同上&lt;/td&gt;
      &lt;td&gt;原地旋转&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;A&lt;/td&gt;
      &lt;td&gt;同上&lt;/td&gt;
      &lt;td&gt;左前-右后方向&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;B&lt;/td&gt;
      &lt;td&gt;同上&lt;/td&gt;
      &lt;td&gt;右前-左后方向&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;STM32-&amp;gt;MiniPC&lt;/p&gt;

&lt;p&gt;命令是变长的，每行含有两个字母S和V，各自接一个数字，最后用\n结束。S后面的数字是当前里程，V后面的数字是当前速度。例如，当前已经以4 centRound/second的速度运行了500 centRound，则输出是&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;V4 S500 \n
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;麦克纳姆车硬件接线&quot;&gt;麦克纳姆车硬件接线&lt;/h2&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;板上电机端口&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;麦克纳姆功能链接&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;备注&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;X电机端口&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;左前&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1FR(EN)2BK(MS1)3PG(MS2)4GND(GND)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;Y电机端口&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;右前&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1FR(EN)2BK(MS1)3PG(MS2)4GND(GND)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;E0电机端口&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;左后&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1FR(EN)2BK(MS1)3PG(MS2)4GND(GND)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;E1电机端口&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;右后&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1FR(EN)2BK(MS1)3PG(MS2)4GND(GND)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;电机改成XYZE0&lt;/p&gt;

&lt;p&gt;超声接usart2&lt;/p&gt;

&lt;p&gt;寻磁接usart3&lt;/p&gt;

&lt;p&gt;sv接x_max&lt;/p&gt;

</description>
        <pubDate>Sat, 20 Jan 2018 10:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/01/20/rayland-dual-on-Mecanum/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/01/20/rayland-dual-on-Mecanum/</guid>
        
        <category>AGV</category>
        
        <category>Rayland-DUAL</category>
        
        <category>MeiXing</category>
        
        
        <category>AGV</category>
        
      </item>
    
  </channel>
</rss>
